# TIL 220422GCD1-2

## ğŸ”¥í•™ìŠµ ë‚´ìš©

### **syncì™€ asyncì˜ ì°¨ì´ëŠ” ë¬´ì—‡ì¸ê°€ìš”?**
- sync: ì‘ì—…ì´ ëë‚ ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ëŠ” ê²ƒ
	- ê³„ì¢Œì…ì¶œê¸ˆ
- async: ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ë‹¤ìŒ ì‘ì—…ì„ ì‹¤í–‰í•˜ëŠ” ê²ƒ
	- ì‹œí—˜ë‚ ì˜ í•™ìƒê³¼ ì„ ìƒ

### **asyncì™€ concurrentëŠ” êµ¬ë¶„ë˜ëŠ” ê°œë…ì´ë¼ê³  í–ˆìŠµë‹ˆë‹¤. ê°ê°ì„ ì„¤ëª…í•´ë³´ì„¸ìš”.**
- async: ìŠ¤ë ˆë“œ ê°œìˆ˜ê°€ ì¤‘ìš”í•œê²Œ ì•„ë‹ˆë¼ ì‘ì—…ë§Œ ë´¤ì„ ë•Œ ê¸°ë‹¤ë¦¬ì§€ ì•ŠëŠ” ê²ƒ
- concurrent: ì—¬ëŸ¬ê°œì˜ ì‘ì—…ì„ ì—¬ëŸ¬ê°œì˜ ë‹¤ë¥¸ ìŠ¤ë ˆë“œë¡œ ì‘ì—…ì„ ë°°ì¹˜ì‹œí‚¤ëŠ” ê²ƒ

### **DispatchQueueì—ì„œ serial íì™€ main íëŠ” ê°™ì€ ê²ƒì¸ê°€ìš”?**
- mainì´ ë””í´íŠ¸ê°€ serial queue ì¸ ë¶€ë¶„ ë§ê³ ëŠ” ë‹¤ë¥´ë‹¤
- ì»¤ìŠ¤í…€ queueë¥¼ ë§Œë“œëŠ” ê²½ìš° main threadê°€ ì•„ë‹Œ ìƒˆë¡œìš´ threadë¥¼ ìƒì„±
- íŠ¹íˆ mainì€ ì¼ë°˜ì ì¸ Serial íì™€ëŠ” ë‹¬ë¦¬ ì•±ì´ ì‹¤í–‰ë˜ëŠ” ë™ì•ˆì—ëŠ” ëŠ˜ ë©”ëª¨ë¦¬ì— ì˜¬ë¼ì™€ ìˆìœ¼ë©° ë˜ ì „ì—­ì ìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥í•œ íë¼ëŠ” íŠ¹ìˆ˜í•œ ì„±ì§ˆì´ ìˆìŠµë‹ˆë‹¤

### **DispatchQueueì—ì„œ `main`ê³¼ `global()`ì˜ ì°¨ì´ëŠ” ë¬´ì—‡ì¸ê°€ìš”?**
- main
    - ì•±ì´ ì‹¤í–‰ë˜ëŠ” ë™ì•ˆì— ëŠ˜ ë©”ëª¨ë¦¬ì— ì˜¬ë¼ì™€ ìˆê³  ì „ì—­ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê¸°ë³¸ ìŠ¤ë ˆë“œ
    - Serial Queue
- global
    - ë©”ëª¨ë¦¬ì— ì˜¬ë¼ì™”ë‹¤ê°€, ì‘ì—…ì´ ëë‚˜ê³  ë‚˜ë©´ ë©”ëª¨ë¦¬ì—ì„œ ì œê±°
    - Concurrent Queue â†’ ì—¬ëŸ¬ê°œì˜ ìŠ¤ë ˆë“œ
    - main threadì—ì„œ íŒŒìƒëœ ìŠ¤ë ˆë“œ

ìƒê°í• ì  - ìŠ¤ë ˆë“œê°€ ì£¼ë„ì ìœ¼ë¡œ ë­˜ í•  ìˆ˜ ìˆëŠ”ì§€, ìŠ¤ë ˆë“œê°€ ì¼ì„ í•˜ë„ë¡ ì‹œí‚¤ëŠ”ê²Œ ë¬´ì—‡ì¸ì§€
ìŠ¤ë ˆë“œëŠ” ìê¸°ê°€ ì£¼ë„ì ìœ¼ë¡œ í•  ìˆ˜ ìˆëŠ”ê±´ ì—†ìŒ. iosì—ì„  ê°œë°œìê°€ GCDë¥¼ í†µí•´ ì½”ë“œë¡œ ì œì–´
sleep â†’ ìŠ¤ë ˆë“œì— ì§ì ‘ì ìœ¼ë¡œ ì œì–´ í•˜ëŠ” í•¨ìˆ˜ ì¤‘ í•˜ë‚˜ ì˜ ëª» ì‚¬ìš©í•˜ë©´ ìœ„í—˜(ì œëŒ€ë¡œ ì´í•´í•˜ê³  ì‚¬ìš©í•´ì•¼í•¨)
íœ´ë¨¼ì—ëŸ¬ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ GCDê°€ ë‚˜ì˜´

### **main ìŠ¤ë ˆë“œëŠ” ì–´ë–¤ íŠ¹ì§•ì„ ê°€ì§€ê³  ìˆë‚˜ìš”?**
- ì•±ì´ ì‹¤í–‰ë˜ëŠ” ë™ì•ˆì— ëŠ˜ ë©”ëª¨ë¦¬ì— ì˜¬ë¼ì™€ ìˆê³  ì „ì—­ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê¸°ë³¸ ìŠ¤ë ˆë“œ
- global ìŠ¤ë ˆë“œë“¤ê³¼ëŠ” ë‹¤ë¥´ê²Œ Run Loopê°€ ìë™ìœ¼ë¡œ ì„¤ì •ë˜ê³  ì‹¤í–‰ë©ë‹ˆë‹¤. ë©”ì¸ ìŠ¤ë ˆë“œì—ì„œ ë™ì‘í•˜ëŠ” Run Loopë¥¼ Main Run Loopë¼ê³  í•©ë‹ˆë‹¤..
- UI ì‘ì—…ì€ ë©”ì¸ ìŠ¤ë ˆë“œì—ì„œë§Œ ì‘ì—…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### **Serialì—ì„œ asyncëŠ” ì–´ë–»ê²Œ ë™ì‘í•˜ë‚˜ìš”?**
- asyncë¡œ ë™ì‘í•˜ì§€ë§Œ ë‹¨ì¼ ìŠ¤ë ˆë“œì´ê¸° ë•Œë¬¸ì— ê²°êµ­ì—” ê°ê°ì˜ ì‘ì—…ì´ ìŒ“ì¸ ìˆœì„œëŒ€ë¡œ ì²˜ë¦¬ëœë‹¤.

### **serial íì—ì„œ syncë¡œ ì‘ì—…ì„ ì²˜ë¦¬í•˜ë©´ ì–´ë–»ê²Œ ë ê¹Œìš”?**
- ê°ê°ì˜ ì‘ì—…ì´ ëë‚˜ëŠ” ê²ƒì„ ê¸°ë‹¤ë¦¬ê³  ëë‚˜ë©´ ë‹¤ìŒ ì‘ì—…ì„ ì²˜ë¦¬í•œë‹¤.

### **main.syncë¥¼ ì‚¬ìš©í•˜ë©´ ì–´ë–»ê²Œ ë˜ë‚˜ìš”? ê·¸ ì´ìœ ëŠ” ë¬´ì—‡ì¸ê°€ìš”?**
- main Queueì˜ ì‘ì—…ì„ ë™ê¸°ì ìœ¼ë¡œ ìˆ˜í–‰í•˜ë©´ deadlockì— ë¹ ì§€ê²Œ ë¨
- ì‘ì—…ì´ ëë‚˜ê¸°ë¥¼ ê¸°ë‹¤ë¦¬ëŠ” syncì˜ íŠ¹ì„±ë•Œë¬¸ì— ë°œìƒ
- Main ìŠ¤ë ˆë“œëŠ” syncì˜ ì½”ë“œë¸”ëŸ­ì´ ìˆ˜í–‰ë˜ê¸°ë¥¼ ê¸°ë‹¤ë ¤ì•¼ í•˜ëŠ”ë°, ì´ ë•Œ sync ì½”ë“œ ë¸”ëŸ­ ì—­ì‹œ ë©ˆì¶°ë²„ë¦¬ëŠ” ê²ƒ
- queueë¥¼ blockí•˜ê³  syncì˜ ì½”ë“œë¸”ëŸ­ì˜ taskê°€ ëë‚ ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¼. í•˜ì§€ë§Œ queueëŠ” ì´ë¯¸ block ìƒíƒœê°€ ë˜ì—ˆê¸° ë•Œë¬¸ì— ì½”ë“œë¸”ëŸ­ì˜ taskëŠ” ì‹œì‘ì¡°ì°¨ í•  ìˆ˜ ì—†ìŒ.
- main threadëŠ” UI ì´ë²¤íŠ¸ ì²˜ë¦¬ë¥¼ ê³„ì†í•´ì„œ ìˆ˜í–‰í•´ì•¼ ë˜ëŠ”ë° main.syncë¥¼ í˜¸ì¶œí•˜ê²Œ ë˜ë©´ main ìŠ¤ë ˆë“œëŠ” syncì˜ ì½”ë“œ ë¸”ëŸ­ì´ ìˆ˜í–‰ë˜ê¸°ë¥¼ ê¸°ë‹¤ë ¤ì•¼ ëœë‹¤. syncëŠ” ì½”ë“œ ë¸”ëŸ­ì´ ì²˜ë¦¬ë˜ê¸° ì „ê¹Œì§€ ë‹¤ìŒ ìŠ¤í…ìœ¼ë¡œ ë„˜ì–´ê°€ì§€ ì•Šê¸° ë•Œë¬¸ì— deadlockì´ ë‚œë‹¤
- Custom Serial Queueì—ì„œëŠ” ê°€ëŠ¥
- ê³„ì†í•´ì„œ ì•±ì˜ ì´ë²¤íŠ¸ ì²˜ë¦¬ë¥¼ í•´ì•¼í•˜ëŠ” main threadê°€ sync í˜¸ì¶œì— ì˜í•´ ë©ˆì¶”ê²Œ ë˜ë©´ ì•ˆë˜ë‹ˆê¹Œ main queueì—ì„œë§Œ ì•ˆë˜ì§€ ì•Šì„ê¹Œ?

### **ë³‘ë ¬ í”„ë¡œê·¸ë˜ë°ê³¼ ë™ì‹œì„± í”„ë¡œê·¸ë˜ë°ì€ ê°ê° ë¬´ì—‡ì¸ê°€ìš”? ì„œë¡œ ë°˜ëŒ€ë˜ëŠ” ê°œë…ì¼ê¹Œìš”?**
- ë™ì‹œì„±(ì†Œí”„íŠ¸ì›¨ì–´ì ) 
	- ì—¬ëŸ¬ê°œì˜ ìŠ¤ë ˆë“œë¥¼ ì´ìš©í•˜ì—¬ ë™ì‹œì— ì—¬ëŸ¬ ì‘ì—…ì„ ì²˜ë¦¬
	- ë‹¤ë¥¸ ì‘ì—…(task)ì„ ê°ê°ì˜ ë‹¤ë¥¸ ìŠ¤ë ˆë“œë¡œ ë‚˜ëˆ ì„œ ë²ˆê°ˆì•„ ê°€ë©´ì„œ ì§„í–‰
	- ì‹¤ì œë¡œëŠ” ë™ì‹œì— ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ ì—¬ëŸ¬ê°€ì§€ ì‘ì—…ì„ ë‚˜ì—´í•´ë‘ê³  í•˜ë‚˜ì”© ë²ˆê°ˆì•„ê°€ë©´ì„œ ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ì§€ë§Œ,  ì•„ì£¼ ë¹ ë¥´ê²Œ Context Switchingì„ í•˜ê¸° ë•Œë¬¸ì— ë™ì‹œì— ì²˜ë¦¬í•˜ëŠ”ê²ƒìœ¼ë¡œ ë³´ì—¬ì§

- ë³‘ë ¬ì„±(í•˜ë“œì›¨ì–´ì )
	- CPU(ì½”ì–´)ê°€ ì—¬ëŸ¬ ê°œ ìˆì„ ë•Œ ê°€ëŠ¥
	- ì‹¤ì œë¡œ ë¬¼ë¦¬ì ìœ¼ë¡œ ë™ì‹œì— ì‘ì—…ì„ ì²˜ë¦¬
	- ì—¬ëŸ¬ ê°œì˜ ì½”ì–´ê°€ í•˜ë‚˜ì˜ ì‘ì—…ì„ ë¶„ë‹´í•´ì„œ ì²˜ë¦¬
	- ë§ì€ ì—°ì‚°ì´ í•„ìš”í•œ ê·¸ë˜í”½ ì²˜ë¦¬ë‚˜ ë¨¸ì‹  ëŸ¬ë‹ì—ì„œëŠ” ì ê·¹ì ìœ¼ë¡œ ì‚¬ìš©

---

> - ì°¸ê³ 
>   - [ì•¼ê³°ë‹·ë„· ë™ì‹œì„± í”„ë¡œê·¸ë˜ë°](https://yagom.net/courses/ë™ì‹œì„±-í”„ë¡œê·¸ë˜ë°-concurrency-programming/lessons/ë™ì‹œì„±-í”„ë¡œê·¸ë˜ë°/topic/ì½”ì–´ì™€-ìŠ¤ë ˆë“œ/)
